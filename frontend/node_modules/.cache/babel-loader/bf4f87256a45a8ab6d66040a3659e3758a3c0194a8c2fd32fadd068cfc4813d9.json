{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CD\\\\Desktop\\\\Trust_Me\\\\frontend\\\\src\\\\component\\\\Collaps.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport '../pages/patient.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Collaps = () => {\n  _s();\n  let {\n    id\n  } = useParams();\n  const [course, setCourse] = useState([]);\n  useEffect(() => {\n    axios.get(`http://localhost:3001/patient/byId/${id}`).then(response => {\n      setPatient(response.data);\n      axios.get(`http://localhost:3001/patient/clinic/byId/${response.data.department_id}`).then(clinicResponse => {\n        setClinic(clinicResponse.data);\n        axios.get(`http://localhost:3001/course/${id}`).then(courseResponse => {\n          setCourse(courseResponse.data);\n          console.log(courseResponse.data);\n        });\n      });\n    });\n  }, []);\n  const handleDeleteCourse = async courseId => {\n    try {\n      await axios.delete(`http://localhost:3001/course/${courseId}`);\n      setCourse(prevCourses => prevCourses.filter(course => course.id !== courseId));\n    } catch (error) {\n      console.error('Failed to delete the course:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: course.map((value, key) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"course\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course_item\",\n        children: value.course_name\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course_item\",\n        children: value.course_detail\n      }, key, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course_item\",\n        children: [value.course_price, \" \\u0E1A\\u0E32\\u0E17\"]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course_item\",\n        children: [value.course_times, \" \\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\"]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button_b\",\n        children: \"\\u0E40\\u0E2A\\u0E23\\u0E47\\u0E08\\u0E2A\\u0E34\\u0E49\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button_a\",\n        onClick: () => handleDeleteCourse(value.id),\n        children: \"\\u0E25\\u0E1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(Collaps, \"uwMS7Ix7o2o5CfbqhMnK7vlnsEA=\", false, function () {\n  return [useParams];\n});\n_c = Collaps;\nexport default Collaps;\nvar _c;\n$RefreshReg$(_c, \"Collaps\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","jsxDEV","_jsxDEV","Collaps","_s","id","course","setCourse","get","then","response","setPatient","data","department_id","clinicResponse","setClinic","courseResponse","console","log","handleDeleteCourse","courseId","delete","prevCourses","filter","error","children","map","value","key","className","course_name","fileName","_jsxFileName","lineNumber","columnNumber","course_detail","course_price","course_times","onClick","_c","$RefreshReg$"],"sources":["C:/Users/CD/Desktop/Trust_Me/frontend/src/component/Collaps.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport '../pages/patient.css';\r\n\r\nconst Collaps = () => {\r\n    let {id} = useParams();\r\n    const [course, setCourse] = useState([]);\r\n\r\n\r\n    \r\n    useEffect(() => {\r\n      axios.get(`http://localhost:3001/patient/byId/${id}`).then((response) => {\r\n        setPatient(response.data);\r\n      axios.get(`http://localhost:3001/patient/clinic/byId/${response.data.department_id}`).then((clinicResponse) => {\r\n        setClinic(clinicResponse.data);\r\n      axios.get(`http://localhost:3001/course/${id}`).then((courseResponse) =>{\r\n        setCourse(courseResponse.data)\r\n        console.log(courseResponse.data)\r\n      \r\n      })\r\n      });\r\n      });\r\n    }, []);\r\n\r\n\r\n    const handleDeleteCourse = async (courseId) => {\r\n      try {\r\n        await axios.delete(`http://localhost:3001/course/${courseId}`);\r\n        setCourse((prevCourses) => prevCourses.filter((course) => course.id !== courseId));\r\n      } catch (error) {\r\n        console.error('Failed to delete the course:', error);\r\n      }\r\n    };\r\n    \r\n  return (\r\n    <div>\r\n        {course.map((value, key) => (\r\n            <div className=\"course\">\r\n                <div className=\"course_item\" key={key} >{value.course_name}</div>\r\n                <div className=\"course_item\" key={key} >{value.course_detail}</div>\r\n                <div className=\"course_item\" key={key} >{value.course_price} บาท</div>\r\n                <div className=\"course_item\" key={key} >{value.course_times} ครั้ง</div>\r\n                <button className=\"button_b\">เสร็จสิ้น</button>\r\n                <button className=\"button_a\" onClick={() => handleDeleteCourse(value.id)}>ลบ</button>\r\n            </div>\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Collaps"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}